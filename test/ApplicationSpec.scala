import models.Github.User
import org.specs2.mutable._
import org.specs2.runner._
import org.junit.runner._
import play.api.libs.json.Json

import play.api.test._
import play.api.test.Helpers._

/**
 * Add your spec here.
 * You can mock out a whole application including requests, plugins etc.
 * For more information, consult the wiki.
 */
@RunWith(classOf[JUnitRunner])
class ApplicationSpec extends Specification {

  "Application" should {
/*
    "send 404 on a bad request" in new WithApplication{
      route(FakeRequest(GET, "/boum")) must beSome.which (status(_) == NOT_FOUND)
    }

    "render the index page" in new WithApplication{
      val home = route(FakeRequest(GET, "/")).get

      status(home) must equalTo(OK)
      contentType(home) must beSome.which(_ == "text/html")
      contentAsString(home) must contain ("Your new application is ready.")
    }
*/
    val usersJson = """[{"login":"okapies","id":657642,"avatar_url":"https://avatars.githubusercontent.com/u/657642?v=3","gravatar_id":"","url":"https://api.github.com/users/okapies","html_url":"https://github.com/okapies","followers_url":"https://api.github.com/users/okapies/followers","following_url":"https://api.github.com/users/okapies/following{/other_user}","gists_url":"https://api.github.com/users/okapies/gists{/gist_id}","starred_url":"https://api.github.com/users/okapies/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/okapies/subscriptions","organizations_url":"https://api.github.com/users/okapies/orgs","repos_url":"https://api.github.com/users/okapies/repos","events_url":"https://api.github.com/users/okapies/events{/privacy}","received_events_url":"https://api.github.com/users/okapies/received_events","type":"User","site_admin":false},{"login":"katrinsharp","id":1680360,"avatar_url":"https://avatars.githubusercontent.com/u/1680360?v=3","gravatar_id":"","url":"https://api.github.com/users/katrinsharp","html_url":"https://github.com/katrinsharp","followers_url":"https://api.github.com/users/katrinsharp/followers","following_url":"https://api.github.com/users/katrinsharp/following{/other_user}","gists_url":"https://api.github.com/users/katrinsharp/gists{/gist_id}","starred_url":"https://api.github.com/users/katrinsharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/katrinsharp/subscriptions","organizations_url":"https://api.github.com/users/katrinsharp/orgs","repos_url":"https://api.github.com/users/katrinsharp/repos","events_url":"https://api.github.com/users/katrinsharp/events{/privacy}","received_events_url":"https://api.github.com/users/katrinsharp/received_events","type":"User","site_admin":false},{"login":"sineer","id":395171,"avatar_url":"https://avatars.githubusercontent.com/u/395171?v=3","gravatar_id":"","url":"https://api.github.com/users/sineer","html_url":"https://github.com/sineer","followers_url":"https://api.github.com/users/sineer/followers","following_url":"https://api.github.com/users/sineer/following{/other_user}","gists_url":"https://api.github.com/users/sineer/gists{/gist_id}","starred_url":"https://api.github.com/users/sineer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sineer/subscriptions","organizations_url":"https://api.github.com/users/sineer/orgs","repos_url":"https://api.github.com/users/sineer/repos","events_url":"https://api.github.com/users/sineer/events{/privacy}","received_events_url":"https://api.github.com/users/sineer/received_events","type":"User","site_admin":false},{"login":"ChelseaStats","id":1188107,"avatar_url":"https://avatars.githubusercontent.com/u/1188107?v=3","gravatar_id":"","url":"https://api.github.com/users/ChelseaStats","html_url":"https://github.com/ChelseaStats","followers_url":"https://api.github.com/users/ChelseaStats/followers","following_url":"https://api.github.com/users/ChelseaStats/following{/other_user}","gists_url":"https://api.github.com/users/ChelseaStats/gists{/gist_id}","starred_url":"https://api.github.com/users/ChelseaStats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChelseaStats/subscriptions","organizations_url":"https://api.github.com/users/ChelseaStats/orgs","repos_url":"https://api.github.com/users/ChelseaStats/repos","events_url":"https://api.github.com/users/ChelseaStats/events{/privacy}","received_events_url":"https://api.github.com/users/ChelseaStats/received_events","type":"User","site_admin":false},{"login":"Zeirus","id":337979,"avatar_url":"https://avatars.githubusercontent.com/u/337979?v=3","gravatar_id":"","url":"https://api.github.com/users/Zeirus","html_url":"https://github.com/Zeirus","followers_url":"https://api.github.com/users/Zeirus/followers","following_url":"https://api.github.com/users/Zeirus/following{/other_user}","gists_url":"https://api.github.com/users/Zeirus/gists{/gist_id}","starred_url":"https://api.github.com/users/Zeirus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zeirus/subscriptions","organizations_url":"https://api.github.com/users/Zeirus/orgs","repos_url":"https://api.github.com/users/Zeirus/repos","events_url":"https://api.github.com/users/Zeirus/events{/privacy}","received_events_url":"https://api.github.com/users/Zeirus/received_events","type":"User","site_admin":false},{"login":"carlosg2","id":212313,"avatar_url":"https://avatars.githubusercontent.com/u/212313?v=3","gravatar_id":"","url":"https://api.github.com/users/carlosg2","html_url":"https://github.com/carlosg2","followers_url":"https://api.github.com/users/carlosg2/followers","following_url":"https://api.github.com/users/carlosg2/following{/other_user}","gists_url":"https://api.github.com/users/carlosg2/gists{/gist_id}","starred_url":"https://api.github.com/users/carlosg2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlosg2/subscriptions","organizations_url":"https://api.github.com/users/carlosg2/orgs","repos_url":"https://api.github.com/users/carlosg2/repos","events_url":"https://api.github.com/users/carlosg2/events{/privacy}","received_events_url":"https://api.github.com/users/carlosg2/received_events","type":"User","site_admin":false},{"login":"SMcDonnell","id":194448,"avatar_url":"https://avatars.githubusercontent.com/u/194448?v=3","gravatar_id":"","url":"https://api.github.com/users/SMcDonnell","html_url":"https://github.com/SMcDonnell","followers_url":"https://api.github.com/users/SMcDonnell/followers","following_url":"https://api.github.com/users/SMcDonnell/following{/other_user}","gists_url":"https://api.github.com/users/SMcDonnell/gists{/gist_id}","starred_url":"https://api.github.com/users/SMcDonnell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SMcDonnell/subscriptions","organizations_url":"https://api.github.com/users/SMcDonnell/orgs","repos_url":"https://api.github.com/users/SMcDonnell/repos","events_url":"https://api.github.com/users/SMcDonnell/events{/privacy}","received_events_url":"https://api.github.com/users/SMcDonnell/received_events","type":"User","site_admin":false},{"login":"elhakimz","id":616176,"avatar_url":"https://avatars.githubusercontent.com/u/616176?v=3","gravatar_id":"","url":"https://api.github.com/users/elhakimz","html_url":"https://github.com/elhakimz","followers_url":"https://api.github.com/users/elhakimz/followers","following_url":"https://api.github.com/users/elhakimz/following{/other_user}","gists_url":"https://api.github.com/users/elhakimz/gists{/gist_id}","starred_url":"https://api.github.com/users/elhakimz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elhakimz/subscriptions","organizations_url":"https://api.github.com/users/elhakimz/orgs","repos_url":"https://api.github.com/users/elhakimz/repos","events_url":"https://api.github.com/users/elhakimz/events{/privacy}","received_events_url":"https://api.github.com/users/elhakimz/received_events","type":"User","site_admin":false},{"login":"jcc2303","id":3462917,"avatar_url":"https://avatars.githubusercontent.com/u/3462917?v=3","gravatar_id":"","url":"https://api.github.com/users/jcc2303","html_url":"https://github.com/jcc2303","followers_url":"https://api.github.com/users/jcc2303/followers","following_url":"https://api.github.com/users/jcc2303/following{/other_user}","gists_url":"https://api.github.com/users/jcc2303/gists{/gist_id}","starred_url":"https://api.github.com/users/jcc2303/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcc2303/subscriptions","organizations_url":"https://api.github.com/users/jcc2303/orgs","repos_url":"https://api.github.com/users/jcc2303/repos","events_url":"https://api.github.com/users/jcc2303/events{/privacy}","received_events_url":"https://api.github.com/users/jcc2303/received_events","type":"User","site_admin":false},{"login":"timelyportfolio","id":837910,"avatar_url":"https://avatars.githubusercontent.com/u/837910?v=3","gravatar_id":"","url":"https://api.github.com/users/timelyportfolio","html_url":"https://github.com/timelyportfolio","followers_url":"https://api.github.com/users/timelyportfolio/followers","following_url":"https://api.github.com/users/timelyportfolio/following{/other_user}","gists_url":"https://api.github.com/users/timelyportfolio/gists{/gist_id}","starred_url":"https://api.github.com/users/timelyportfolio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timelyportfolio/subscriptions","organizations_url":"https://api.github.com/users/timelyportfolio/orgs","repos_url":"https://api.github.com/users/timelyportfolio/repos","events_url":"https://api.github.com/users/timelyportfolio/events{/privacy}","received_events_url":"https://api.github.com/users/timelyportfolio/received_events","type":"User","site_admin":false},{"login":"alexandermikuta","id":3902796,"avatar_url":"https://avatars.githubusercontent.com/u/3902796?v=3","gravatar_id":"","url":"https://api.github.com/users/alexandermikuta","html_url":"https://github.com/alexandermikuta","followers_url":"https://api.github.com/users/alexandermikuta/followers","following_url":"https://api.github.com/users/alexandermikuta/following{/other_user}","gists_url":"https://api.github.com/users/alexandermikuta/gists{/gist_id}","starred_url":"https://api.github.com/users/alexandermikuta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexandermikuta/subscriptions","organizations_url":"https://api.github.com/users/alexandermikuta/orgs","repos_url":"https://api.github.com/users/alexandermikuta/repos","events_url":"https://api.github.com/users/alexandermikuta/events{/privacy}","received_events_url":"https://api.github.com/users/alexandermikuta/received_events","type":"User","site_admin":false},{"login":"AlanFitzgeraldVSolvit","id":9323553,"avatar_url":"https://avatars.githubusercontent.com/u/9323553?v=3","gravatar_id":"","url":"https://api.github.com/users/AlanFitzgeraldVSolvit","html_url":"https://github.com/AlanFitzgeraldVSolvit","followers_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/followers","following_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/following{/other_user}","gists_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/subscriptions","organizations_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/orgs","repos_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/repos","events_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/events{/privacy}","received_events_url":"https://api.github.com/users/AlanFitzgeraldVSolvit/received_events","type":"User","site_admin":false},{"login":"ansorg","id":3541784,"avatar_url":"https://avatars.githubusercontent.com/u/3541784?v=3","gravatar_id":"","url":"https://api.github.com/users/ansorg","html_url":"https://github.com/ansorg","followers_url":"https://api.github.com/users/ansorg/followers","following_url":"https://api.github.com/users/ansorg/following{/other_user}","gists_url":"https://api.github.com/users/ansorg/gists{/gist_id}","starred_url":"https://api.github.com/users/ansorg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ansorg/subscriptions","organizations_url":"https://api.github.com/users/ansorg/orgs","repos_url":"https://api.github.com/users/ansorg/repos","events_url":"https://api.github.com/users/ansorg/events{/privacy}","received_events_url":"https://api.github.com/users/ansorg/received_events","type":"User","site_admin":false},{"login":"bbakiu","id":7114480,"avatar_url":"https://avatars.githubusercontent.com/u/7114480?v=3","gravatar_id":"","url":"https://api.github.com/users/bbakiu","html_url":"https://github.com/bbakiu","followers_url":"https://api.github.com/users/bbakiu/followers","following_url":"https://api.github.com/users/bbakiu/following{/other_user}","gists_url":"https://api.github.com/users/bbakiu/gists{/gist_id}","starred_url":"https://api.github.com/users/bbakiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbakiu/subscriptions","organizations_url":"https://api.github.com/users/bbakiu/orgs","repos_url":"https://api.github.com/users/bbakiu/repos","events_url":"https://api.github.com/users/bbakiu/events{/privacy}","received_events_url":"https://api.github.com/users/bbakiu/received_events","type":"User","site_admin":false},{"login":"mcanthony","id":1610158,"avatar_url":"https://avatars.githubusercontent.com/u/1610158?v=3","gravatar_id":"","url":"https://api.github.com/users/mcanthony","html_url":"https://github.com/mcanthony","followers_url":"https://api.github.com/users/mcanthony/followers","following_url":"https://api.github.com/users/mcanthony/following{/other_user}","gists_url":"https://api.github.com/users/mcanthony/gists{/gist_id}","starred_url":"https://api.github.com/users/mcanthony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcanthony/subscriptions","organizations_url":"https://api.github.com/users/mcanthony/orgs","repos_url":"https://api.github.com/users/mcanthony/repos","events_url":"https://api.github.com/users/mcanthony/events{/privacy}","received_events_url":"https://api.github.com/users/mcanthony/received_events","type":"User","site_admin":false},{"login":"alexsalas","id":663460,"avatar_url":"https://avatars.githubusercontent.com/u/663460?v=3","gravatar_id":"","url":"https://api.github.com/users/alexsalas","html_url":"https://github.com/alexsalas","followers_url":"https://api.github.com/users/alexsalas/followers","following_url":"https://api.github.com/users/alexsalas/following{/other_user}","gists_url":"https://api.github.com/users/alexsalas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexsalas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexsalas/subscriptions","organizations_url":"https://api.github.com/users/alexsalas/orgs","repos_url":"https://api.github.com/users/alexsalas/repos","events_url":"https://api.github.com/users/alexsalas/events{/privacy}","received_events_url":"https://api.github.com/users/alexsalas/received_events","type":"User","site_admin":false}]"""

    "parse users" in {
      val users = Json.parse(usersJson).as[List[User]]
      users must have size 16
    }
  }
}
